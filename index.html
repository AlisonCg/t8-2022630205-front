<!--T7-2022630205 | Alicia Cortés Gamboa-->
<!--Requerimiento No funcional 4-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="https://img.icons8.com/?size=100&id=ndn9OSlhNd4B&format=png&color=000000">
    <title>| Sistema de Comercio Electrónico - 2022630205</title>
    <link rel="stylesheet" href="styles.css">
    <script src="WSClienteCarrito.js" defer></script>
    <script src="app.js" defer></script>
</head>
<body>
    <header>
        <h1>Sistema de Comercio Electrónico</h1>
        <h3>Servicios Web REST</h3>
        <h5>T7 - 2022630205 | Cortés Gamboa Alicia</h5>
        <!--Requisito 6: Menú-->
        <nav>
            <button onclick="mostrarPantalla('capturaArticulo')">✎ Captura de Artículo</button>
            <button onclick="mostrarPantalla('compraArticulo')">$ Compra de Artículos</button>
        </nav>
    </header>

    <main>
        <!--Requisito 7: Permite la captura de los datos-->
        <section id="capturaArticulo" class="pantalla" style="display: none;">
            <h2>✎ | Captura de Artículo</h2>
            <form id="formCapturaArticulo" onsubmit="registrarArticulo(event)">
                <label>Nombre:</label><br><br>
                <input type="text" id="nombreArticulo" required><br><br>
                <label>Descripción:</label><br><br>
                <textarea id="descripcionArticulo" required></textarea><br><br>
                <label>Precio:</label><br><br>
                <input type="number" id="precioArticulo" step="0.01" required><br><br>
                <label>Cantidad:</label><br><br>
                <input type="number" id="cantidadArticulo" required><br><br>
                <label>Fotografía:</label><br><br>
                <img id="preview" alt="Vista previa de la imagen" style="max-width: 100px; display: none; margin-left: 47%;">
                <input type="file" id="fotoArticulo" accept="image/*"><br><br>
                <button type="submit" class="elegant-button">Registrar Artículo</button>
            </form>
        </section>

        <!--Requisito 8: Búsqueda de articulos-->
        <section id="compraArticulo" class="pantalla" style="display: none;">
            <h2>$ | Compra de Artículos</h2>
            <!--Requisito 11: Botón Carrito de compra-->
            <button onclick="mostrarPantalla('carritoCompra')" class="elegant-button" style="margin-bottom: 20px;">★ Carrito de Compra</button><br><br>
            <input type="text" id="busqueda" placeholder="Buscar por nombre o descripción">
            <button onclick="buscarArticulos()" class="elegant-button">Buscar</button>
            <div id="resultadosArticulos"></div>
        </section>

        <!--Desplegamos los articulos en el carrito-->
        <section id="carritoCompra" class="pantalla" style="display: none;">
            <h2>★ | Carrito de Compra</h2>
            <div id="articulosCarrito"></div>
            <!--Requisito 13: Permite borrar el carrito de compra-->
            <button onclick="vaciarCarrito()" class="elegant-button">✘ Vaciar Carrito</button>
            <!--Requisito 14: Regresamos a la pantalla de Compra de articulos-->
            <button onclick="mostrarPantalla('compraArticulo')" class="elegant-button">☛ Seguir Comprando</button>
        </section>             
                      
    </main>
</body>
</html>

<script>
    const inputFile = document.getElementById("fotoArticulo");
    const preview = document.getElementById("preview");

    inputFile.addEventListener("change", function (event) {
      const file = event.target.files[0];

      if (file) {
        const reader = new FileReader(); 

        reader.onload = function (e) {
          preview.src = e.target.result;
          preview.style.display = "block";
        };

        reader.readAsDataURL(file);
      }
    });
</script>